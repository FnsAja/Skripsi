{% with judul="Train" %}
{% include "component/header.html" %}
{% endwith %}

<body>
  {% include "component/navbar.html" %}

  <h2>Sentiment Analysis Pemilihan Calon Presiden 2024</h2>

  <p>Masukan data yang telah dilabeling</p>

  <form action="/train" method="post" enctype="multipart/form-data">
    <input type="file" name="file" />
    <input type="submit" />
  </form>

  {% if status == 'complete' %}
    <a href="/saveFileTest">Download File Test</a>

    <div class="content">
      <div style="position: relative; ">
        <table id="table1" class="table table-striped">
          <thead>
            <th>
              Word
            </th>
            <th>
              DF Value
            </th>
          </thead>
          <tbody>
            {% for item in df_value %}
            <tr>
              <td>{{ item['word'] }}</td>
              <td>{{ item['df'] }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      <div style="position: relative; height:400px; width: 800px;">
        <canvas id="barChart"></canvas>
      </div>
      <div style="position: relative; height:400px; width: 400px;">
        <canvas id="pieChart"></canvas>
      </div>
      <div style="position: relative; height:400px; width: 400px; margin-bottom: 50px;">
        <img src="{{ url_for('save_trainPlot_image') }}" alt="Plot Image">
      </div>
      <div style="position: relative; height:500px; width: 500px; margin-bottom: 50px;">
        <img src="{{ url_for('save_trainChart_image') }}" alt="Plot Image">
      </div>
      <div style="position: relative; height:400px; width: 400px;">
        <img src="{{ url_for('save_wordcloud_image', name = 'Positive') }}" alt="WordCloud Image">
      </div>
      <div style="position: relative; height:400px; width: 400px;">
        <img src="{{ url_for('save_wordcloud_image', name = 'Netral') }}" alt="WordCloud Image">
      </div>
      <div style="position: relative; height:400px; width: 400px;">
        <img src="{{ url_for('save_wordcloud_image', name = 'Negative') }}" alt="WordCloud Image">
      </div>
    </div>
  {% endif %}

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      {% for message in messages %}
        {{ message }}
      {% endfor %}
    {% endif %}
  {% endwith %}

  {% if status == 'complete' %}
  <script>
    let all_fold = JSON.parse({{ all_fold| tojson | safe }})
    let best_fold = JSON.parse({{ best_fold| tojson | safe }})
  </script>

  <script src="../static/js/chartJs.js"></script>
  <script src="../static/js/jquery.min.js"></script>
  <script src="../static/js/datatables.min.js"></script>
  <script src="../static/js/trainScript.js"></script>
  {% endif %}

</body>

</html>